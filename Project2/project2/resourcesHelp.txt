https://courses.engr.illinois.edu/cs423/fa2011/lectures/lect8-threads5-impl.pdf